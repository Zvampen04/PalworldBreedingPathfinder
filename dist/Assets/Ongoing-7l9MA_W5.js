import{R as m,r as n,T as f,j as r}from"./index-DUbUAhxO.js";import{E as v}from"./ExpandablePaths-DIIgiVKG.js";import{C as j}from"./Card-CmFwIvdb.js";const w=({ongoing:i,handleOngoingSelect:x,onAddToCollection:g,pulseItemId:o})=>{const d=n.useContext(f),a=(d==null?void 0:d.mode)==="dark",[u,h]=n.useState(new Set);n.useEffect(()=>{if(o){h(t=>new Set(t).add(o));const e=setTimeout(()=>{h(t=>{const s=new Set(t);return s.delete(o),s})},2e3);return()=>clearTimeout(e)}},[o]);const b=n.useMemo(()=>i.map(e=>{const t=e.favorite.steps.filter(p=>p.type!=="start").length,s=e.progress.completedSteps.size,l=Math.round(s/t*100),c={success:!0,start_parent:e.favorite.startParent,target_child:e.favorite.targetChild,total_paths:1,min_steps:t,paths:[{type:"single",path:{id:1,steps:e.favorite.steps,total_steps:t}}]};return{item:e,totalSteps:t,completedSteps:s,percent:l,data:c}}),[i]);return r.jsxs("div",{className:`p-8 rounded-xl-std shadow-xl-std transition-all duration-300 ${a?"bg-white/10 backdrop-blur-md border border-white/20":"bg-white/80 backdrop-blur-md border border-gray-200"}`,children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-4",children:"ðŸ”„"}),r.jsx("h2",{className:`text-2xl font-bold mb-4 ${a?"text-accessible-dark":"text-accessible-light"}`,children:"Ongoing Paths"}),r.jsx("p",{className:a?"text-accessible-secondary-dark":"text-accessible-secondary-light",children:"Track your progress on favorited breeding paths. Check off completed steps to see your progress."})]}),i.length===0?r.jsx("div",{className:"text-center text-gray-400",children:"No ongoing paths."}):b.map(({item:e,totalSteps:t,completedSteps:s,percent:l,data:c})=>{const p=u.has(e.favorite.id);return r.jsxs(j,{className:`flex flex-col gap-1 cursor-pointer transition group p-4 ${a?"bg-white/10 border border-gray-700":"bg-white border border-gray-300"} ${p?"animate-pulse border-purple-400 bg-purple-900/20 shadow-lg shadow-purple-500/25":""}`,onClick:()=>x(e),tabIndex:0,role:"button","aria-label":`Go to favorite path ${e.favorite.name||`${e.favorite.startParent} â†’ ${e.favorite.targetChild}`}`,children:[r.jsx("div",{className:`font-semibold group-hover:text-blue-700 ${a?"dark:group-hover:text-purple-300":""} transition-colors duration-200`,children:e.favorite.name||`${e.favorite.startParent} â†’ ${e.favorite.targetChild}`}),r.jsxs("div",{className:"text-xs text-gray-400",children:[s,"/",t," steps (",l,"%)"]}),r.jsx(v,{data:c,maxPaths:1,hideSummaryHeader:!0,onAddToCollection:g})]},e.favorite.id)})]})},N=m.memo(w);export{N as default};
