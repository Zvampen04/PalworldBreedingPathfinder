import{R as T,r as k,T as B,j as t,B as i}from"./index-DWqCGnFO.js";import{E as H}from"./ExpandablePaths-CbT4VF-O.js";import{C as A}from"./Card-DQmYf2kp.js";import{I as D}from"./Input-CIFe9ZwM.js";const M=({favorites:o,selectedFavoriteId:p,highlightedFavoriteId:h,editingFavoriteId:x,editingName:y,combiningFavoriteId:w,handleEditFavoriteName:$,handleSaveFavoriteName:P,handleCancelEditFavoriteName:z,handleCombineWithFavorite:E,handleFavoriteSelect:S,onAddToCollection:_,favoriteRefs:F})=>{const n=k.useContext(B),s=(n==null?void 0:n.mode)==="dark",R=k.useMemo(()=>o.map(e=>{const m=p===e.id,c=h===e.id,l=x===e.id,d={success:!0,start_parent:e.startParent,target_child:e.targetChild,total_paths:1,min_steps:e.steps.filter(r=>r.type!=="start").length,paths:[{type:"single",path:{id:1,steps:e.steps,total_steps:e.steps.filter(r=>r.type!=="start").length}}]};return{fav:e,isSelected:m,isHighlighted:c,isEditing:l,data:d}}),[o,p,h,x]);return t.jsxs("div",{className:`p-8 rounded-xl-std shadow-xl-std transition-all duration-300 ${s?"bg-white/10 backdrop-blur-md border border-white/20":"bg-white/80 backdrop-blur-md border border-gray-200"}`,children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl mb-4",children:"â­"}),t.jsx("h2",{className:`text-2xl font-bold mb-4 ${s?"text-accessible-dark":"text-accessible-light"}`,children:"Favorite Paths"}),t.jsx("p",{className:s?"text-accessible-secondary-dark":"text-accessible-secondary-light",children:"Your saved breeding paths appear here. Click items in the sidebar to load them into the calculator."})]}),o.length===0?t.jsx("div",{className:"text-center text-gray-400",children:"No favorites yet."}):R.map(({fav:e,isSelected:m,isHighlighted:c,isEditing:l,data:d})=>{var r,b,u,g,N,j;return t.jsx("div",{ref:a=>F.current[e.id]=a,tabIndex:0,role:"button","aria-label":`Select favorite path ${e.name||`${e.startParent} â†’ ${e.targetChild}`}`,onClick:()=>S(e),className:"mb-6 group cursor-pointer transition-all duration-200",children:t.jsxs(A,{className:m?"border-blue-400 bg-blue-900/20":c?"border-purple-400 bg-purple-900/20":s?"border-white/20 bg-white/5":"border-gray-200 bg-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:`font-semibold group-hover:text-blue-700 ${s?"dark:group-hover:text-purple-300":""} transition-colors duration-200`,children:l?t.jsx(D,{className:"px-2 py-1 rounded border",value:y,onChange:()=>{},autoFocus:!0,theme:s?"dark":"light"}):(r=e.customName)!=null&&r.trim()?e.customName:e.name}),t.jsx("div",{className:"flex gap-2",children:l?t.jsxs(t.Fragment,{children:[t.jsx(i,{variant:"primary",size:"sm",dark:s,className:"",onClick:a=>{a.stopPropagation(),P(e)},"aria-label":`Save new name for favorite path ${(b=e.customName)!=null&&b.trim()?e.customName:e.name}`,children:"Save"}),t.jsx(i,{variant:"secondary",size:"sm",dark:s,className:"",onClick:a=>{a.stopPropagation(),z()},"aria-label":`Cancel editing name for favorite path ${(u=e.customName)!=null&&u.trim()?e.customName:e.name}`,children:"Cancel"})]}):t.jsxs(t.Fragment,{children:[t.jsx(i,{variant:"icon",size:"sm",dark:s,className:"ml-2 text-xs",title:"Edit name",onClick:a=>{a.stopPropagation(),$(e)},"aria-label":`Edit name for favorite path ${(g=e.customName)!=null&&g.trim()?e.customName:e.name}`,children:"âœï¸"}),t.jsx(i,{variant:"icon",size:"sm",dark:s,className:"ml-1 text-xs",title:"Combine with another path",onClick:a=>{a.stopPropagation()},"aria-label":`Combine favorite path ${(N=e.customName)!=null&&N.trim()?e.customName:e.name} with another`,children:"ðŸ”— Combine"})]})})]}),w===e.id&&t.jsxs("div",{className:"mb-2",children:[t.jsx("label",{className:"block text-xs mb-1",children:"Combine with:"}),t.jsxs("select",{className:`px-2 py-1 rounded border ${s?"border-gray-600 bg-gray-800 text-white":"border-gray-400 bg-white text-black"}`,onChange:a=>{a.target.value&&E(e,a.target.value)},defaultValue:"",children:[t.jsx("option",{value:"",disabled:!0,children:"Select compatible path..."}),o.filter(a=>a.id!==e.id&&(a.startParent===e.targetChild||a.targetChild===e.startParent)).map(a=>{var C;return t.jsx("option",{value:a.id,children:(C=a.customName)!=null&&C.trim()?a.customName:a.name},a.id)})]}),t.jsx(i,{variant:"secondary",size:"sm",dark:s,className:"ml-2 text-xs",onClick:a=>{a.stopPropagation()},"aria-label":`Cancel combining favorite path ${(j=e.customName)!=null&&j.trim()?e.customName:e.name}`,children:"Cancel"})]}),t.jsx(H,{data:d,maxPaths:1,hideSummaryHeader:!0,onAddToCollection:()=>_(e)})]})},e.id)})]})},I=T.memo(M);export{I as default};
