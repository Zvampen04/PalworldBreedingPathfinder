import{R as u,r as n,T as b,j as r}from"./index-DodNdWq_.js";import{E as f}from"./ExpandablePaths-CjCnvITg.js";import{C as v}from"./Card-rLJfHKrs.js";const j=({ongoing:i,handleOngoingSelect:h,onAddToCollection:x,pulseItemId:o})=>{const a=n.useContext(b)?.mode==="dark",[g,p]=n.useState(new Set);n.useEffect(()=>{if(o){p(t=>new Set(t).add(o));const e=setTimeout(()=>{p(t=>{const s=new Set(t);return s.delete(o),s})},2e3);return()=>clearTimeout(e)}},[o]);const m=n.useMemo(()=>i.map(e=>{const t=e.favorite.steps.filter(c=>c.type!=="start").length,s=e.progress.completedSteps.size,d=Math.round(s/t*100),l={success:!0,start_parent:e.favorite.startParent,target_child:e.favorite.targetChild,total_paths:1,min_steps:t,paths:[{type:"single",path:{id:1,steps:e.favorite.steps,total_steps:t}}]};return{item:e,totalSteps:t,completedSteps:s,percent:d,data:l}}),[i]);return r.jsxs("div",{className:`p-8 rounded-xl-std shadow-xl-std transition-all duration-300 ${a?"bg-white/10 backdrop-blur-md border border-white/20":"bg-white/80 backdrop-blur-md border border-gray-200"}`,children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-4",children:"ðŸ”„"}),r.jsx("h2",{className:`text-2xl font-bold mb-4 ${a?"text-accessible-dark":"text-accessible-light"}`,children:"Ongoing Paths"}),r.jsx("p",{className:a?"text-accessible-secondary-dark":"text-accessible-secondary-light",children:"Track your progress on favorited breeding paths. Check off completed steps to see your progress."})]}),i.length===0?r.jsx("div",{className:"text-center text-gray-400",children:"No ongoing paths."}):m.map(({item:e,totalSteps:t,completedSteps:s,percent:d,data:l})=>{const c=g.has(e.favorite.id);return r.jsxs(v,{className:`flex flex-col gap-1 cursor-pointer transition group p-4 ${a?"bg-white/10 border border-gray-700":"bg-white border border-gray-300"} ${c?"animate-pulse border-purple-400 bg-purple-900/20 shadow-lg shadow-purple-500/25":""}`,onClick:()=>h(e),tabIndex:0,role:"button","aria-label":`Go to favorite path ${e.favorite.name||`${e.favorite.startParent} â†’ ${e.favorite.targetChild}`}`,children:[r.jsx("div",{className:`font-semibold group-hover:text-blue-700 ${a?"dark:group-hover:text-purple-300":""} transition-colors duration-200`,children:e.favorite.name||`${e.favorite.startParent} â†’ ${e.favorite.targetChild}`}),r.jsxs("div",{className:"text-xs text-gray-400",children:[s,"/",t," steps (",d,"%)"]}),r.jsx(f,{data:l,maxPaths:1,hideSummaryHeader:!0,onAddToCollection:x})]},e.favorite.id)})]})},N=u.memo(j);export{N as default};
